# Folder-Site 功能支持度分析

**分析日期**: 2026-01-22  
**项目**: folder-site  
**目标**: 评估文档网站生成工具的内容渲染支持能力

---

## 总览

| 状态统计 | 数量 |
|----------|------|
| ✅ 已支持 | 11 |
| ⚠️ 部分支持 | 2 |
| ❌ 不支持 | 2 |

---

## 已支持功能

| 功能 | 支持度 | 说明 |
|------|--------|------|
| Mermaid → 高分辨率图片 | ✅ High | 13种图表类型，SVG/PNG输出 |
| Graphviz DOT → 高分辨率图片 | ✅ High | 6种布局引擎，SVG输出 |
| LaTeX → Word可编辑公式 | ✅ High | remark-math + rehype-katex |
| 100+ 语言语法高亮 | ✅ High | Shiki驱动，支持28+语言 |
| 29专业主题一键切换 | ⚠️ Partial | 3种UI主题 + 7种代码主题 |
| 完全免费，本地处理 | ✅ Full | Bun运行时，全本地渲染 |
| Workhub文档集成 | ✅ | ADR/Issues/PRs解析 |
| Markdown完整渲染 | ✅ | GFM + Frontmatter |
| PDF/HTML导出 | ✅ | 客户端jsPDF导出 |
| 文件树导航 | ✅ | 可展开/折叠目录 |
| 模糊搜索(Cmd+P) | ✅ | <100ms响应 |
| 暗色模式 | ✅ | Auto/Light/Dark |

## 部分支持功能

| 功能 | 现状 | 问题 |
|------|------|------|
| 29专业主题一键切换 | 3 UI + 7 代码主题 | 文档声称29个，实际未实现 |
| Vega/JSON图表 | 仅规划 | 文档有依赖，未安装包 |

## 不支持功能

| 功能 | 状态 | 说明 |
|------|------|------|
| JSON Canvas | ❌ 不支持 | 无此格式支持 |
| Vega/JSON图表 | ❌ 未实现 | 依赖未安装 |

---

## 依赖分析

### 已安装

```json
{
  "mermaid": "^11.12.2",
  "@viz-js/viz": "^3.24.0",
  "shiki": "^1.22.0",
  "rehype-katex": "^7.0.1",
  "remark-math": "^6.0.0"
}
```

### 规划但未安装

```json
{
  "vega": "^6.2.0",
  "vega-lite": "^6.4.1",
  "vega-embed": "^7.1.0",
  "@antv/infographic": "^0.2.7"
}
```

---

## 插件架构

```
plugins/
├── mermaid-renderer/      ✅ 已实现
│   ├── MermaidRenderer.ts
│   ├── index.ts
│   └── manifest.json
│
└── graphviz-renderer/     ✅ 已实现
    ├── GraphvizRenderer.ts
    ├── index.ts
    └── manifest.json
```

---

## 渲染器

```
src/parsers/
├── markdown.ts            # 主解析器
├── rehype-shiki.ts        # 代码高亮
└── remark-mermaid.ts      # Mermaid预处理
```

---

## 结论

### 优势

- Mermaid/Graphviz 实现完整
- LaTeX 公式支持完善
- 语法高亮质量高
- 本地处理，无外部API依赖

### 待改进

- 缺少 JSON 可视化能力
- Vega 图表未实现
- 主题数量与文档不符

---

## 下一步

- [ ] 实现 JSON Canvas 可视化
- [ ] 安装并实现 Vega 支持
- [ ] 补充主题数量或更新文档
