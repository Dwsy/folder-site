# 文件预览功能使用指南

## 快速开始

文件预览功能让您可以快速查看文件的详细信息，而无需打开文件。

## 如何使用

### 方法 1：Alt+点击

1. 在左侧文件树中找到您想查看的文件
2. 按住 **Alt** 键（Mac 上是 **Option** 键）
3. 点击文件名
4. 文件预览模态框将弹出，显示文件信息

### 方法 2：键盘导航

1. 使用 **Tab** 键导航到文件树
2. 使用 **↑** 和 **↓** 键选择文件
3. 按住 **Alt** + **Enter** 打开预览

## 模态框操作

### 关闭模态框

- 按 **Esc** 键
- 点击遮罩层（模态框外部的暗色区域）
- 点击右上角的 ✕ 按钮

### 查看信息

模态框中显示以下信息：

| 信息项 | 说明 |
|--------|------|
| 文件名称 | 文件的完整名称 |
| 文件路径 | 文件相对于项目根目录的路径 |
| 文件大小 | 格式化后的文件大小（B/KB/MB/GB/TB） |
| 创建时间 | 文件创建的日期和时间 |
| 修改时间 | 文件最后修改的日期和时间 |
| 文件类型 | 文件或文件夹 |
| 扩展名 | 文件的扩展名（如 .ts, .tsx, .md） |

## 快捷键

| 快捷键 | 功能 |
|--------|------|
| Alt + 点击文件 | 打开文件预览 |
| Esc | 关闭预览模态框 |

## 使用场景

### 场景 1：查看文件大小

想知道某个文件的大小，但不想打开它？

1. Alt+点击文件名
2. 在模态框中查看"文件大小"信息

### 场景 2：确认文件修改时间

需要确认文件最后修改时间？

1. Alt+点击文件名
2. 在模态框中查看"修改时间"信息

### 场景 3：快速浏览文件信息

浏览项目文件时，想快速了解文件详情？

1. Alt+点击多个文件
2. 快速查看每个文件的信息
3. 按 Esc 关闭，继续浏览

## 常见问题

### Q: Alt+点击没有反应？

A: 请确保：
- 您点击的是文件节点（不是文件夹）
- 您按住的是 Alt 键（Mac 上是 Option 键）
- 浏览器没有禁用 Alt 键功能

### Q: 模态框显示"加载中..."？

A: 这表示正在获取文件信息，通常很快就会完成。如果长时间显示，请检查网络连接或刷新页面。

### Q: 模态框显示错误信息？

A: 可能的原因：
- 文件已被删除或移动
- 文件路径不正确
- 服务器暂时不可用

请尝试刷新页面或重新加载文件树。

### Q: 如何在不关闭预览的情况下查看其他文件？

A: 当前版本需要先关闭预览，然后 Alt+点击其他文件。未来版本将支持快速切换。

## 技术细节

### API 端点

文件预览功能使用现有的 `/api/files/content` 端点：

```http
GET /api/files/content?path={filePath}
```

### 响应数据

```json
{
  "success": true,
  "data": {
    "info": {
      "name": "example.ts",
      "path": "/full/path/to/example.ts",
      "relativePath": "src/example.ts",
      "extension": "ts",
      "size": 1024,
      "modifiedAt": "2025-01-23T10:00:00.000Z",
      "createdAt": "2025-01-20T10:00:00.000Z",
      "isDirectory": false,
      "isFile": true,
      "isSymbolicLink": false
    },
    "content": "...",
    "meta": { ... }
  },
  "timestamp": 1737612000000
}
```

## 反馈与建议

如果您有任何问题或建议，请通过以下方式反馈：

- 提交 Issue
- 发起 Pull Request
- 联系项目维护者

## 更新日志

- **2025-01-23**: 初始版本发布
  - Alt+点击触发文件预览
  - 显示基本文件元数据
  - 流畅的动画效果
  - 键盘快捷键支持