# ä½¿ç”¨æŒ‡å—

æœ¬æŒ‡å—è¯¦ç»†ä»‹ç» Folder-Site CLI çš„ä½¿ç”¨æ–¹æ³•ã€å‘½ä»¤è¡Œé€‰é¡¹ã€é…ç½®å’Œæœ€ä½³å®žè·µã€‚

## ç›®å½•

- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [å‘½ä»¤è¡Œå‚æ•°](#å‘½ä»¤è¡Œå‚æ•°)
- [åŸºç¡€ä½¿ç”¨](#åŸºç¡€ä½¿ç”¨)
- [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
- [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
- [é”®ç›˜å¿«æ·é”®](#é”®ç›˜å¿«æ·é”®)
- [æœ€ä½³å®žè·µ](#æœ€ä½³å®žè·µ)

---

## å¿«é€Ÿå¼€å§‹

### æœ€ç®€å•çš„ä½¿ç”¨æ–¹å¼

```bash
# åœ¨å½“å‰ç›®å½•å¯åŠ¨
folder-site

# åœ¨æŒ‡å®šç›®å½•å¯åŠ¨
folder-site /path/to/docs

# ä½¿ç”¨è‡ªå®šä¹‰ç«¯å£
folder-site --port 8080
```

å¯åŠ¨åŽï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `http://localhost:3000` å³å¯æŸ¥çœ‹ç”Ÿæˆçš„ç½‘ç«™ã€‚

---

## å‘½ä»¤è¡Œå‚æ•°

### åŸºæœ¬å‚æ•°

| å‚æ•° | ç®€å†™ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|------|--------|------|
| `--help` | `-h` | - | - | æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ |
| `--version` | `-v` | - | - | æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ |
| `--port` | `-p` | number | 3000 | æŒ‡å®šç«¯å£å· |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# æ˜¾ç¤ºå¸®åŠ©
folder-site --help

# æ˜¾ç¤ºç‰ˆæœ¬
folder-site --version

# ä½¿ç”¨ç«¯å£ 8080
folder-site --port 8080

# åœ¨æŒ‡å®šç›®å½•ä½¿ç”¨ç«¯å£ 3001
folder-site /path/to/docs --port 3001
```

---

## åŸºç¡€ä½¿ç”¨

### 1. å¯åŠ¨æœåŠ¡å™¨

```bash
# åœ¨å½“å‰ç›®å½•å¯åŠ¨
folder-site

# è¾“å‡ºç¤ºä¾‹ï¼š
# ðŸš€ Folder-Site CLI v0.1.0
# ðŸŒ Running at http://localhost:3000
# ðŸ“ Serving directory: /Users/username/my-docs
#
# ðŸ“š API endpoints:
#    - GET  /api/health  - Health check
#    - GET  /api/        - API information
#    - GET  /api/files   - File operations
#    - GET  /api/search  - Search operations
#
# Press Ctrl+C to stop
```

### 2. æµè§ˆæ–‡ä»¶

å¯åŠ¨åŽï¼Œä½ å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ï¼š

- **å·¦ä¾§è¾¹æ **ï¼šæµè§ˆæ–‡ä»¶æ ‘ï¼Œç‚¹å‡»å±•å¼€/æ”¶èµ·ç›®å½•
- **ä¸»ç¼–è¾‘åŒº**ï¼šæŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼Œæ”¯æŒ Markdown æ¸²æŸ“
- **æœç´¢åŠŸèƒ½**ï¼šä½¿ç”¨å¿«æ·é”® `Cmd+P` (Mac) æˆ– `Ctrl+P` (Windows/Linux) æ‰“å¼€æœç´¢

### 3. æ–‡ä»¶ç›‘å¬

Folder-Site CLI ä¼šè‡ªåŠ¨ç›‘å¬æ–‡ä»¶å˜åŒ–ï¼š

- ä¿®æ”¹æ–‡ä»¶åŽï¼Œé¡µé¢ä¼šè‡ªåŠ¨åˆ·æ–°
- æ–°å¢žæ–‡ä»¶ä¼šè‡ªåŠ¨å‡ºçŽ°åœ¨æ–‡ä»¶æ ‘ä¸­
- åˆ é™¤æ–‡ä»¶ä¼šè‡ªåŠ¨ä»Žæ–‡ä»¶æ ‘ä¸­ç§»é™¤

### 4. åœæ­¢æœåŠ¡å™¨

åœ¨ç»ˆç«¯ä¸­æŒ‰ `Ctrl+C` åœæ­¢æœåŠ¡å™¨ã€‚

---

## é«˜çº§åŠŸèƒ½

### 1. å¿«é€Ÿæœç´¢

ä½¿ç”¨å¿«æ·é”®æ‰“å¼€æœç´¢æ¡†ï¼š

- **Mac**: `Cmd + P`
- **Windows/Linux**: `Ctrl + P`

æœç´¢åŠŸèƒ½ç‰¹æ€§ï¼š

- **æ¨¡ç³Šæœç´¢**ï¼šæ”¯æŒéƒ¨åˆ†åŒ¹é…
- **å®žæ—¶æœç´¢**ï¼šè¾“å…¥å³æ—¶æ˜¾ç¤ºç»“æžœ
- **å¿«æ·å¯¼èˆª**ï¼šä½¿ç”¨ä¸Šä¸‹é”®é€‰æ‹©ï¼Œå›žè½¦æ‰“å¼€
- **æ–‡ä»¶ç±»åž‹è¿‡æ»¤**ï¼šæ”¯æŒæŒ‰æ‰©å±•åç­›é€‰

```bash
# é€šè¿‡ API æœç´¢
curl "http://localhost:3000/api/search?q=å…³é”®è¯"

# å¸¦å‚æ•°æœç´¢
curl "http://localhost:3000/api/search?q=å…³é”®è¯&scope=content&limit=20"
```

### 2. ä¸»é¢˜åˆ‡æ¢

æ”¯æŒæ˜Žäº®å’Œæš—é»‘ä¸»é¢˜ï¼š

- ç‚¹å‡»å³ä¸Šè§’ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
- æˆ–ä½¿ç”¨å¿«æ·é”® `Cmd+D` / `Ctrl+D`
- ä¸»é¢˜è®¾ç½®ä¼šè‡ªåŠ¨ä¿å­˜

### 3. Workhub é›†æˆ

å¦‚æžœä½ çš„æ–‡æ¡£ç›®å½•åŒ…å« `docs/` ç»“æž„ï¼ŒFolder-Site ä¼šè‡ªåŠ¨è¯†åˆ«ï¼š

```
docs/
â”œâ”€â”€ adr/          # æž¶æž„å†³ç­–è®°å½•
â”œâ”€â”€ issues/       # ä»»åŠ¡/é—®é¢˜
â”œâ”€â”€ pr/           # Pull Requests
â””â”€â”€ ...
```

### 4. å¯¼å‡ºåŠŸèƒ½

æ”¯æŒå¯¼å‡ºä¸º PDF æˆ– HTMLï¼š

```bash
# å¯¼å‡ºå½“å‰æ–‡ä»¶ä¸º PDF
# é€šè¿‡æµè§ˆå™¨ç•Œé¢ç‚¹å‡»å¯¼å‡ºæŒ‰é’®

# æˆ–é€šè¿‡ API å¯¼å‡º
curl -X POST http://localhost:3000/api/export \
  -H "Content-Type: application/json" \
  -d '{
    "format": "pdf",
    "paths": ["docs/README.md"],
    "options": {
      "filename": "my-docs.pdf",
      "includeToc": true
    }
  }'
```

### 5. æ’ä»¶ç³»ç»Ÿ

æ”¯æŒè‡ªå®šä¹‰æ¸²æŸ“æ’ä»¶ï¼š

```bash
# åˆ›å»ºæ’ä»¶ç›®å½•
mkdir plugins

# åˆ›å»ºæ’ä»¶æ–‡ä»¶
cat > plugins/my-plugin.ts << 'EOF'
import type { Plugin } from 'folder-site/types';

export const myPlugin: Plugin = {
  name: 'my-plugin',
  version: '1.0.0',
  type: 'renderer',
  render: async (content: string) => {
    // è‡ªå®šä¹‰æ¸²æŸ“é€»è¾‘
    return `<div class="custom-renderer">${content}</div>`;
  },
};
EOF
```

---

## é…ç½®æ–‡ä»¶

### é…ç½®æ–‡ä»¶ä½ç½®

Folder-Site CLI æ”¯æŒä»¥ä¸‹é…ç½®æ–‡ä»¶ï¼ˆæŒ‰ä¼˜å…ˆçº§æŽ’åºï¼‰ï¼š

1. `.folder-siterc.json` - å½“å‰ç›®å½•
2. `.folder-siterc.js` - å½“å‰ç›®å½•
3. `folder-site.config.js` - å½“å‰ç›®å½•
4. `~/.folder-siterc` - ç”¨æˆ·ä¸»ç›®å½•

### é…ç½®æ–‡ä»¶ç¤ºä¾‹

```json
{
  "port": 3000,
  "theme": "dark",
  "sidebar": {
    "width": 280,
    "collapsed": false
  },
  "search": {
    "debounce": 50,
    "maxResults": 20,
    "caseSensitive": false
  },
  "cache": {
    "enabled": true,
    "ttl": 3600000
  },
  "watcher": {
    "enabled": true,
    "ignore": [
      "node_modules",
      ".git",
      "dist"
    ]
  },
  "export": {
    "defaultFormat": "pdf",
    "includeToc": true,
    "includeCover": true
  }
}
```

### é…ç½®é€‰é¡¹è¯´æ˜Ž

#### æœåŠ¡å™¨é…ç½®

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| `port` | number | 3000 | æœåŠ¡å™¨ç«¯å£å· |
| `host` | string | 0.0.0.0 | æœåŠ¡å™¨ç›‘å¬åœ°å€ |

#### ä¸»é¢˜é…ç½®

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| `theme` | string | dark | ä¸»é¢˜æ¨¡å¼ï¼šdark / light |

#### ä¾§è¾¹æ é…ç½®

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| `sidebar.width` | number | 280 | ä¾§è¾¹æ å®½åº¦ï¼ˆåƒç´ ï¼‰ |
| `sidebar.collapsed` | boolean | false | æ˜¯å¦é»˜è®¤æŠ˜å  |

#### æœç´¢é…ç½®

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| `search.debounce` | number | 50 | æœç´¢é˜²æŠ–å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰ |
| `search.maxResults` | number | 20 | æœ€å¤§ç»“æžœæ•°é‡ |
| `search.caseSensitive` | boolean | false | æ˜¯å¦åŒºåˆ†å¤§å°å†™ |

#### ç¼“å­˜é…ç½®

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| `cache.enabled` | boolean | true | æ˜¯å¦å¯ç”¨ç¼“å­˜ |
| `cache.ttl` | number | 3600000 | ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ |

#### æ–‡ä»¶ç›‘å¬é…ç½®

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| `watcher.enabled` | boolean | true | æ˜¯å¦å¯ç”¨æ–‡ä»¶ç›‘å¬ |
| `watcher.ignore` | string[] | [] | å¿½ç•¥çš„ç›®å½•/æ–‡ä»¶ |

#### å¯¼å‡ºé…ç½®

| é€‰é¡¹ | ç±»åž‹ | é»˜è®¤å€¼ | è¯´æ˜Ž |
|------|------|--------|------|
| `export.defaultFormat` | string | pdf | é»˜è®¤å¯¼å‡ºæ ¼å¼ |
| `export.includeToc` | boolean | true | æ˜¯å¦åŒ…å«ç›®å½• |
| `export.includeCover` | boolean | true | æ˜¯å¦åŒ…å«å°é¢ |

### çŽ¯å¢ƒå˜é‡

```bash
# æœåŠ¡å™¨é…ç½®
PORT=3000
HOST=0.0.0.0

# ä¸»é¢˜
THEME=dark

# ç¼“å­˜
CACHE_ENABLED=true
CACHE_TTL=3600000

# æœç´¢
SEARCH_DEBOUNCE=50
SEARCH_MAX_RESULTS=20

# æ—¥å¿—çº§åˆ«
LOG_LEVEL=info
```

---

## é”®ç›˜å¿«æ·é”®

### å…¨å±€å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ | å¹³å° |
|--------|------|------|
| `Cmd+P` / `Ctrl+P` | æ‰“å¼€å¿«é€Ÿæœç´¢ | Mac / Win-Lin |
| `Cmd+K` / `Ctrl+K` | æ‰“å¼€å‘½ä»¤é¢æ¿ | Mac / Win-Lin |
| `Cmd+D` / `Ctrl+D` | åˆ‡æ¢ä¸»é¢˜ | Mac / Win-Lin |
| `Esc` | å…³é—­æ¨¡æ€æ¡† | å…¨éƒ¨ |

### æœç´¢å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `â†‘` / `â†“` | ä¸Šä¸‹å¯¼èˆªæœç´¢ç»“æžœ |
| `Enter` | æ‰“å¼€é€‰ä¸­æ–‡ä»¶ |
| `Esc` | å…³é—­æœç´¢æ¡† |
| `Tab` | åˆ‡æ¢æœç´¢èŒƒå›´ |

### æ–‡ä»¶æ ‘å¿«æ·é”®

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `â†’` | å±•å¼€ç›®å½• |
| `â†` | æŠ˜å ç›®å½• |
| `Enter` | æ‰“å¼€æ–‡ä»¶ |
| `Space` | é¢„è§ˆæ–‡ä»¶ |
| `Delete` | åˆ é™¤æ–‡ä»¶ï¼ˆéœ€ç¡®è®¤ï¼‰ |

---

## å¸¸è§ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: æœ¬åœ°æ–‡æ¡£é¢„è§ˆ

ä¸ºæ­£åœ¨ç¼–å†™çš„ Markdown æ–‡æ¡£æä¾›å®žæ—¶é¢„è§ˆï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•å¯åŠ¨
cd my-project
folder-site

# è®¿é—® http://localhost:3000
# åœ¨æµè§ˆå™¨ä¸­å®žæ—¶æŸ¥çœ‹æ–‡æ¡£å˜åŒ–
```

### åœºæ™¯ 2: çŸ¥è¯†åº“ç®¡ç†

å°†ä¸ªäººç¬”è®°æ•´ç†æˆå¯æµè§ˆçš„çŸ¥è¯†åº“ï¼š

```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > .folder-siterc.json << 'EOF'
{
  "theme": "dark",
  "search": {
    "maxResults": 50
  },
  "cache": {
    "enabled": true
  }
}
EOF

# å¯åŠ¨æœåŠ¡
folder-site

# ä½¿ç”¨å¿«é€Ÿæœç´¢å¿«é€Ÿå®šä½ç¬”è®°
```

### åœºæ™¯ 3: å›¢é˜Ÿæ–‡æ¡£ä¸­å¿ƒ

ä¸ºå›¢é˜Ÿæä¾›å†…éƒ¨æ–‡æ¡£ä¸­å¿ƒï¼š

```bash
# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > .folder-siterc.json << 'EOF'
{
  "port": 8080,
  "theme": "light",
  "sidebar": {
    "width": 320
  }
}
EOF

# å¯åŠ¨æœåŠ¡
folder-site

# å›¢é˜Ÿæˆå‘˜è®¿é—® http://your-server:8080
```

### åœºæ™¯ 4: Workhub é›†æˆ

æŸ¥çœ‹å’Œç®¡ç† Workhub ç»“æž„çš„æ–‡æ¡£ï¼š

```bash
# Workhub ç»“æž„
docs/
â”œâ”€â”€ adr/
â”‚   â”œâ”€â”€ 001-use-bun-as-runtime.md
â”‚   â””â”€â”€ 002-adopt-react-as-ui-framework.md
â”œâ”€â”€ issues/
â”‚   â”œâ”€â”€ 001-initial-setup.md
â”‚   â””â”€â”€ 002-add-search-feature.md
â””â”€â”€ pr/
    â””â”€â”€ 001-implement-api.md

# å¯åŠ¨æœåŠ¡
folder-site

# åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ç»“æž„åŒ–çš„æ–‡æ¡£
```

### åœºæ™¯ 5: API æ–‡æ¡£ç”Ÿæˆ

ä¸ºä»£ç åº“ç”Ÿæˆ API æ–‡æ¡£ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•å¯åŠ¨
cd my-api-project
folder-site --port 8080

# é…ç½®æ–‡ä»¶
cat > .folder-siterc.json << 'EOF'
{
  "watcher": {
    "ignore": ["node_modules", ".git", "dist"]
  }
}
EOF
```

---

## æœ€ä½³å®žè·µ

### 1. ç›®å½•ç»“æž„å»ºè®®

```
my-docs/
â”œâ”€â”€ README.md              # é¡¹ç›®ä»‹ç»
â”œâ”€â”€ docs/                  # ä¸»æ–‡æ¡£
â”‚   â”œâ”€â”€ getting-started.md
â”‚   â”œâ”€â”€ api.md
â”‚   â””â”€â”€ tutorials/
â”‚       â”œâ”€â”€ basic.md
â”‚       â””â”€â”€ advanced.md
â”œâ”€â”€ examples/              # ç¤ºä¾‹ä»£ç 
â”‚   â””â”€â”€ demo.ts
â”œâ”€â”€ assets/                # é™æ€èµ„æº
â”‚   â”œâ”€â”€ images/
â”‚   â””â”€â”€ diagrams/
â””â”€â”€ .folder-siterc.json    # é…ç½®æ–‡ä»¶
```

### 2. Markdown ç¼–å†™å»ºè®®

- ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜å±‚çº§
- æ·»åŠ ä»£ç å—å’Œè¯­æ³•é«˜äº®
- ä½¿ç”¨è¡¨æ ¼ç»„ç»‡ä¿¡æ¯
- æ·»åŠ é€‚å½“çš„å›¾ç‰‡å’Œå›¾è¡¨
- ä½¿ç”¨ç›¸å¯¹è·¯å¾„å¼•ç”¨èµ„æº

### 3. æ€§èƒ½ä¼˜åŒ–

- å¯ç”¨ç¼“å­˜å‡å°‘æ¸²æŸ“å¼€é”€
- åˆç†è®¾ç½®æœç´¢ç»“æžœæ•°é‡
- å¿½ç•¥ä¸å¿…è¦çš„ç›®å½•ï¼ˆå¦‚ node_modulesï¼‰
- ä½¿ç”¨ CDN åŠ è½½å¤–éƒ¨èµ„æº

### 4. å®‰å…¨å»ºè®®

- ä¸è¦åœ¨å…¬å¼€æœåŠ¡å™¨ä¸Šè¿è¡Œæ•æ„Ÿæ–‡æ¡£
- ä½¿ç”¨é€‚å½“çš„æ–‡ä»¶æƒé™
- å®šæœŸå¤‡ä»½é‡è¦æ–‡æ¡£
- ä½¿ç”¨ç‰ˆæœ¬æŽ§åˆ¶ç®¡ç†æ–‡æ¡£

### 5. å›¢é˜Ÿåä½œ

- ä½¿ç”¨ Git ç®¡ç†æ–‡æ¡£
- ç»Ÿä¸€é…ç½®æ–‡ä»¶
- å»ºç«‹æ–‡æ¡£ç¼–å†™è§„èŒƒ
- å®šæœŸå®¡æŸ¥å’Œæ›´æ–°æ–‡æ¡£

---

## æ•…éšœæŽ’æŸ¥

é‡åˆ°é—®é¢˜ï¼Ÿè¯·æŸ¥çœ‹ [æ•…éšœæŽ’æŸ¥æŒ‡å—](./TROUBLESHOOTING.md)ã€‚

---

## ä¸‹ä¸€æ­¥

- [API æ–‡æ¡£](./API.md) - äº†è§£ API æŽ¥å£
- [å®‰è£…æŒ‡å—](./INSTALLATION.md) - å®‰è£…å’Œé…ç½®
- [æ•…éšœæŽ’æŸ¥](./TROUBLESHOOTING.md) - è§£å†³å¸¸è§é—®é¢˜
- [é¡¹ç›®æ¦‚è¿°](./PROJECT_OVERVIEW.md) - æ·±å…¥äº†è§£é¡¹ç›®æž¶æž„